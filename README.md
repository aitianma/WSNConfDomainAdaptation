
# Adapting Wireless Network Configuration From Simulation to Reality
# Overview
Our research addresses the challenge of the simulation-to-reality gap in network configuration prediction. Traditional models based on simulations often falter when applied to physical networks due to this gap. In our project, we utilize deep learning-based domain adaptation to bridge this disparity.

## Methodology
We employ a novel approach that combines a teacher-student neural network architecture with a physical sampling method. This strategy enables the transfer of network configuration knowledge from simulated environments to their real-world counterparts.

## Key Findings
Our experimental results are promising:

We successfully narrowed the simulation-to-reality gap.
The accuracy of predicting effective network configurations that meet performance requirements improved significantly from 30.10% to 70.24%.
This improvement was achieved by leveraging robust machine learning models trained on extensive, cost-effective simulation data, supplemented by a limited set of valuable field testing measurements.
## Publications
This work has been published in the IEEE/ACM Transactions on Networking, 2023. For more details, see:

Junyang Shi, Aitian Ma, Xia Cheng, Mo Sha, and Xi Peng, Adapting Wireless Network Configuration from Simulation to Reality via Deep Learning based Domain Adaptation, IEEE/ACM Transactions on Networking, accepted for publication.

Junyang Shi, Mo Sha, and Xi Peng, Adapting Wireless Mesh Network Configuration from Simulation to Reality via Deep Learning based Domain Adaptation, USENIX Symposium on Networked Systems Design and Implementation (NSDI), April 2021.

## Acknowledgements
We gratefully acknowledge the support of the National Science Foundation under grants CNS-2046538 and CNS-2150010.

# Requirements

The project requires the following dependencies:

- matplotlib==3.6.2
- numpy==1.23.4
- pandas==1.5.1
- scikit-learn==1.0.2
- scipy==1.8.0
- torch==1.11.0+cu113
- torchscan==0.1.2
- torchsummary==1.5.1
- torchviz==0.0.2

## Installation

You can install the dependencies using the following command:

```shell
pip install -r requirements.txt
````

# Data


## Training Data

The training data consists of the following components:

### Physical Data
- **Directory**: data/training/physicalData

### Simulation Data
- **Directory**: data/training/simulationData

### Physical Data with Sampling Algorithm (Generated by Code)
- **Directory**: data/training/PhysicalDataWithSamplingAlgorithm/

### Testing Data
    
- **Directory**: data/testing/testData.csv


## Data Format

The data format includes the following components:

### Header
- A: Represents a network configuration parameter.
- C: Indicates the number of channels used in the network.
- P: Specifies the PRR (Packet Reception Ratio) threshold for link selection.
- B: Represents a network configuration parameter.
- L: Denotes the end-to-end latency, a network performance metric.
- R: Refers to the end-to-end reliability, another network performance metric.
- LA: Represents a network configuration parameter.

### Network Configurations
The data format includes the following network configurations:

1. **PRR Threshold (P)**: This parameter determines the minimum acceptable Packet Reception Ratio for link selection in the network.

2. **Number of Channels (C)**: Specifies the total number of channels utilized in the network for communication.

3. **Transmission Attempts per Packet (A)**: Indicates the number of transmission attempts scheduled for each packet in the network.

### Network Performance Metrics
The data format also includes three network performance metrics:

1. **End-to-End Latency (L)**: This metric measures the total time taken for a packet to traverse the network from the source to the destination.

2. **Battery Lifetime (B)**: Represents the duration for which network nodes can operate using their power source, indicating the battery life.

3. **End-to-End Reliability (R)**: This metric reflects the reliability level of delivering data packets from the source to the destination in the network.

The data format is designed to support the LA network configuration.


# Reproducibility
To easily reproduce the results you can follow the next steps:

Perform the sampling experiment with four simulators 
```shell
python main.py --exp=sampling --sampling=True
```

Perform the experiment using four simulators without sampling
```shell
python main.py --exp=sampling --sampling=False
```

Perform the experiment by varying the number of samples. This experiment is based on data sampling using the tossim simulator, where additional samples are added or removed.
```shell
 python main.py --exp=diff 
```


